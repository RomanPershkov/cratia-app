
@{
    Layout = null;
    ViewBag.Title = "Index";
}

<html>
<head>    
    <title>Battles table</title>
    <script src="~/Scripts/jquery-3.4.1.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-ui-1.12.1.min.js" type="text/javascript"></script>
    <link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/themes/base/all.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/jquery.jqGrid/ui.jqgrid.css" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/jquery.jqGrid.min.js" type="text/javascript"></script>
    <script src="~/Scripts/i18n/grid.locale-en.js" type="text/javascript"></script>

    <style>
        body {
            background-color: #f0f0ffa;
        }

        .ui-jqgrid .ui-pg-input {
            height: 20px;
        }

        .ui-jqgrid .ui-jqgrid-pager {
            height: 50px;
        }
    </style>
</head>
<body>
    <a>@Html.ActionLink("Home page", "Index", "Home")</a>

    <br />
    <br />
    <br />

    <table id="jqg"></table>
    <div id="jpager"></div>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#jqg").jqGrid({
                url: '@Url.Action("GetBattlesForTable", "Table")',
                datatype: "json",
                colNames: ['Date', 'Winner', 'Loser', 'Rounds', 'WinnerPts', 'LoserPts'],
                colModel: [
                    { name: 'Date', index: 'Date', width: 150, align: "center", sortable: true},
                    { name: 'Winner', index: 'Winner', width: 150, align: "center", sortable: true },
                    { name: 'Loser', index: 'Loser', width: 100, align: "center", sortable: true },
                    { name: 'Rounds', index: 'Rounds', width: 80, align: "center", sortable: true },
                    { name: 'RefereePointsWinner', index: 'RefereePointsWinner', width: 80, align: "center", sortable: true },
                    { name: 'RefereePointsLoser', index: 'RefereePointsWinner', width: 80, align: "center", sortable: true },
                ],
                rowNum: 10,
                rowList: [10, 20, 30],
                pager: '#jpager',
                loadonce:true,
                sortname: 'Date',
                sortorder: "desc",
                caption: "List of Battles"
            });
            $("#jqg").jqGrid('navGrid', '#jpager', {

                add: false,
                del: false,
                edit: false,
                view: true,
                viewtext: "View",
                search: true,
                searchtext: "Search",
                refresh: true,
                refreshtext: "Refresh"
            });
        });
    </script>
</body>
</html>